Terminal.applyAddon(fullscreen),Terminal.applyAddon(fit),Terminal.applyAddon(webLinks);const delay=50,host=window.location.host,pathname=window.location.pathname,scrollBackLimit=5e3,terminal=new Terminal({cursorBlink:!0,macOptionIsMeta:!0,scrollback:!0}),terminalDivId="webpty",webSocketProtocol=window.location.protocol.indexOf("https")?"ws":"wss",ws=new WebSocket(`${webSocketProtocol}://${host}${pathname}pty`);function fitToScreen(){terminal.fit(),ws.send(JSON.stringify({action:"resize",data:{cols:terminal.cols,rows:terminal.rows}}))}function resizeDelay(e,n){let t;return function(...o){const i=this;clearTimeout(t),t=setTimeout(()=>e.apply(i,o),n)}}window.onresize=resizeDelay(fitToScreen,50),ws.onopen=function(){terminal.open(document.getElementById("webpty")),terminal.toggleFullScreen(!0),terminal.setOption("scrollback",5e3),fitToScreen()},ws.onmessage=function(e){terminal.write(e.data)},terminal.on("key",e=>{ws.send(JSON.stringify({action:"input",data:{key:e}}))}),terminal.on("paste",e=>{ws.send(JSON.stringify({action:"input",data:{key:e}}))});